drop table if exists t;
create table t (c1 int, c2 int);
insert into t values (2, 3), (3, 3), (1, 1), (1, 2), (2, 2), (1, 3), (1,4), (1,5), (null, 2), (null, 3);
select * from t order by c1, c2;
select * from t order by c1 desc, c2;
select * from t order by c1 asc, c2 desc;
select * from t order by c2 desc, c1 desc;
select * from t order by c1 desc, c2 desc;
--error ER_BAD_FIELD_ERROR
select * from t order by 3 desc;
select c1 as a from t order by a;
select c1 as a from t order by c1;
select c1 as a from t order by c2, c1;
select c1 as a from t order by max(c1);
select c1 as a from t order by c2, max(c2);
select c1 from t group by c1 order by c1;
select c1 from t group by c1 order by count(c1);
select c1 from t group by c1 order by count(c1) desc;
select c1 from t group by c1 order by max(c1);
select c1 from t group by c1 order by max(c1) desc;
select c1 from t group by c1 order by c2;
select c1 from t group by c1 order by c2 desc;
select c1 from t group by c1 order by max(c2);
select c1 from t group by c1 order by max(c2) desc;
select * from t group by c2 having c2 > 1 order by c2 desc;
select c1 from t group by c2 having c2 > 1 order by c2 desc;
select * from t group by c2 having c2 > 1 order by c1 desc;
select c2 from t group by c2 having c2 > 1 order by c1 desc;
select * from t having c2 > 1 order by c1 desc, c2;
select c2 from t having c2 > 1 order by c1 desc, c2;
select c2 from t having count(c2) > 4 order by c1 desc;
select * from t group by c2 having c2 > 1 order by c1 desc, c2 desc;
select * from t group by c2 having c2 > 1 order by max(c1);
select c2 from t group by c2 having c2 > 1 order by max(c1);
select * from t group by c2 having c2 > 1 order by max(c2);
select * from t group by c2 having c2 > 1 order by 2 desc;
select * from t group by c2 having c2 > 1 order by max(c2), 2 desc;
select * from t group by c2 having c2 > 1 order by 2 desc, max(c2);

drop table if exists t;
create table t (c1 int, c2 int, c3 int);
insert into t SET c1=1, c2=2, c3 = 3;
insert into t SET c1=2, c2=3, c3 = 1;
insert into t SET c1=3, c2=1, c3 = 2;
select c1 as c2 from t order by c2 + c3;
select c1 as a from t order by c2 + c3;
select c1 as a from t order by a + c3;
select c1 as a from t order by c1 + c3;
select c1 as c2 from t order by c2 + 1;
--error ER_NON_UNIQ_ERROR
select c1 as c2, c2 from t order by c2;
select c1 as c2, c2 from t order by c2 + 1;
