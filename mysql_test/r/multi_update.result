DROP TABLE IF EXISTS users, foobar, addresses;
CREATE TABLE users (
id INTEGER NOT NULL AUTO_INCREMENT,
name VARCHAR(30) NOT NULL,
some_update VARCHAR(30),
PRIMARY KEY (id)
);
CREATE TABLE foobar (
id INTEGER NOT NULL AUTO_INCREMENT,
user_id INTEGER,
data VARCHAR(30),
some_update VARCHAR(30),
PRIMARY KEY (id)
);
CREATE TABLE addresses (
id INTEGER NOT NULL AUTO_INCREMENT,
user_id INTEGER,
email_address VARCHAR(50) NOT NULL,
PRIMARY KEY (id)
);
INSERT INTO users (id, name, some_update) VALUES
(8, 'ed', 'value'),
(9, 'fred', 'value');
INSERT INTO addresses (id, user_id, email_address) VALUES
(2, 8, 'ed@wood.com'),
(3, 8, 'ed@bettyboop.com'),
(4, 9, 'fred@fred.com');
INSERT INTO foobar (id, user_id, data) VALUES
(2, 8, 'd1'),
(3, 8, 'd2'),
(4, 9, 'd3');
UPDATE users, foobar SET foobar.data=(concat(foobar.data, 'a')), foobar.some_update='im the other update', users.name='ed2', users.some_update='im the update' WHERE users.id = foobar.user_id AND users.name = 'ed';
DELETE users, addresses, foobar FROM users, addresses, foobar;
INSERT INTO users (id, name, some_update) VALUES
(8, 'ed', 'value'),
(9, 'fred', 'value');
INSERT INTO addresses (id, user_id, email_address) VALUES
(2, 8, 'ed@wood.com'),
(3, 8, 'ed@bettyboop.com'),
(4, 9, 'fred@fred.com');
INSERT INTO foobar (id, user_id, data) VALUES
(2, 8, 'd1'),
(3, 8, 'd2'),
(4, 9, 'd3');
UPDATE addresses, users SET users.name='ed2', users.some_update='im the update', addresses.email_address=users.name WHERE users.id = addresses.user_id AND users.name = 'ed';
SELECT addresses.id, addresses.user_id, addresses.email_address FROM addresses ORDER BY addresses.id;
id	user_id	email_address
2	8	ed
3	8	ed
4	9	fred@fred.com
