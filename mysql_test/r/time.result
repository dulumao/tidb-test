DROP TABLE IF EXISTS t;
CREATE TABLE t (
c1 date,
c2 datetime,
c3 timestamp,
c4 time,
c5 year
);
INSERT INTO t values ("2000-01-01", "2000-01-01 12:12:12", "2000-01-01 12:12:12", "12:12:12", "2000");
INSERT INTO t values ("2000-02-01", "2000-02-01 12:12:12", "2000-02-01 12:12:12", "13:12:12", 2000);
INSERT INTO t values ("2000-03-01", "2000-03-01", "2000-03-01 12:12:12", "1 12:12:12", 2000);
INSERT INTO t SET c1 = "2000-04-01", c2 = "2000-04-01", c3 = "2000-04-01 12:12:12", c4 = "-1 13:12:12", c5 = 2000;
SELECT * FROM t;
c1	c2	c3	c4	c5
2000-01-01	2000-01-01 12:12:12	2000-01-01 12:12:12	12:12:12	2000
2000-02-01	2000-02-01 12:12:12	2000-02-01 12:12:12	13:12:12	2000
2000-03-01	2000-03-01 00:00:00	2000-03-01 12:12:12	36:12:12	2000
2000-04-01	2000-04-01 00:00:00	2000-04-01 12:12:12	-37:12:12	2000
SELECT c1 FROM t where c1 = "2000-01-01" and "2000-01-01" = c1;
c1
2000-01-01
SELECT c1 FROM t where c1 > "2000-01-01";
c1
2000-02-01
2000-03-01
2000-04-01
SELECT c2 FROM t where c2 < "2000-03-01";
c2
2000-01-01 12:12:12
2000-02-01 12:12:12
SELECT c3 FROM t where c3 != "2000-02-01 12:12:12";
c3
2000-01-01 12:12:12
2000-03-01 12:12:12
2000-04-01 12:12:12
SELECT c4 FROM t where c4 > "13:12:12";
c4
36:12:12
SELECT c4 FROM t where c4 < "-13:12:12";
c4
-37:12:12
SELECT * from t;
c1	c2	c3	c4	c5
2000-01-01	2000-01-01 12:12:12	2000-01-01 12:12:12	12:12:12	2000
2000-02-01	2000-02-01 12:12:12	2000-02-01 12:12:12	13:12:12	2000
2000-03-01	2000-03-01 00:00:00	2000-03-01 12:12:12	36:12:12	2000
2000-04-01	2000-04-01 00:00:00	2000-04-01 12:12:12	-37:12:12	2000
INSERT INTO t values ("2001-01-01", "2000-01-01 12:12:12", "2000-01-01 12:12:12", "12:12:12", "2000");
SELECT * from t WHERE c2 = c3;
c1	c2	c3	c4	c5
2000-01-01	2000-01-01 12:12:12	2000-01-01 12:12:12	12:12:12	2000
2000-02-01	2000-02-01 12:12:12	2000-02-01 12:12:12	13:12:12	2000
2001-01-01	2000-01-01 12:12:12	2000-01-01 12:12:12	12:12:12	2000
set TIMESTAMP = 1234;
select @@timestamp;
@@timestamp
1234
UPDATE t SET c2 = c3 ;
SELECT * from t WHERE c2 = c3;
c1	c2	c3	c4	c5
2000-01-01	2000-01-01 12:12:12	2000-01-01 12:12:12	12:12:12	2000
2000-02-01	2000-02-01 12:12:12	2000-02-01 12:12:12	13:12:12	2000
2001-01-01	2000-01-01 12:12:12	2000-01-01 12:12:12	12:12:12	2000
set TIMESTAMP = 1235;
select @@timestamp;
@@timestamp
1235
UPDATE t SET c4 = c2 ;
SELECT * from t;
c1	c2	c3	c4	c5
2000-01-01	2000-01-01 12:12:12	2000-01-01 12:12:12	12:12:12	2000
2000-02-01	2000-02-01 12:12:12	1970-01-01 08:20:35	12:12:12	2000
2000-03-01	2000-03-01 12:12:12	1970-01-01 08:20:35	12:12:12	2000
2000-04-01	2000-04-01 12:12:12	1970-01-01 08:20:35	12:12:12	2000
2001-01-01	2000-01-01 12:12:12	2000-01-01 12:12:12	12:12:12	2000
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (
c1 datetime,
tn varchar(256)
);
INSERT INTO t1 values ("2000-01-01 12:12:12", "");
UPDATE t1 SET tn = c1;
SELECT * from t1;
c1	tn
2000-01-01 12:12:12	2000-01-01 12:12:12
UPDATE t1 SET tn = "2010-01-01 12:12:12";
UPDATE t1 SET c1 = tn;
SELECT * from t1;
c1	tn
2010-01-01 12:12:12	2010-01-01 12:12:12
DELETE from t;
INSERT INTO t values (+20010101, 20010101121212, 20010101121212, "12:12:12", "2000");
SELECT * from t;
c1	c2	c3	c4	c5
2001-01-01	2001-01-01 12:12:12	2001-01-01 12:12:12	12:12:12	2000
INSERT INTO t (c1) values (-1);
Error 1105: invalid time format
INSERT INTO t (c2) values (-1);
Error 1105: invalid time format
INSERT INTO t (c3) values (-1);
Error 1105: invalid time format
DELETE from t1;
INSERT INTO t1 (c1) values ("2000-01-01 12:12:12");
set TIMESTAMP = 1236;
select @@timestamp;
@@timestamp
1236
INSERT INTO t (c2) SELECT c1 from t1;
SELECT * from t;
c1	c2	c3	c4	c5
2001-01-01	2001-01-01 12:12:12	2001-01-01 12:12:12	12:12:12	2000
NULL	2000-01-01 12:12:12	1970-01-01 08:20:36	NULL	NULL
DROP TABLE IF EXISTS t;
CREATE TABLE t (c1 timestamp unique);
INSERT INTO t values ("2000-01-01 12:12:12"), ("2000-02-01 12:12:13"), ("2000-02-01 12:12:14"), ("2000-03-01 12:12:15");
SELECT c1 FROM t where c1 > "2000-01-02";
c1
2000-02-01 12:12:13
2000-02-01 12:12:14
2000-03-01 12:12:15
